{"remainingRequest":"/Volumes/LMQ/Downloads/PM/my/myproject/appfront/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/LMQ/Downloads/PM/my/myproject/appfront/src/components/wechat/dialogue.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/LMQ/Downloads/PM/my/myproject/appfront/src/components/wechat/dialogue.vue","mtime":1608703131000},{"path":"/Volumes/LMQ/Downloads/PM/my/myproject/appfront/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/LMQ/Downloads/PM/my/myproject/appfront/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Volumes/LMQ/Downloads/PM/my/myproject/appfront/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/LMQ/Downloads/PM/my/myproject/appfront/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgcGFnZU5hbWU6IHRoaXMuJHJvdXRlLnF1ZXJ5Lm5hbWUsCiAgICAgICAgICAgIGN1cnJlbnRDaGF0V2F5OiB0cnVlLCAvL3R1cmXkuLrplK7nm5jmiZPlrZcgZmFsc2XkuLror63pn7PovpPlhaUKICAgICAgICAgICAgdGltZXI6IG51bGwKICAgICAgICAgICAgLy8gc2F5QWN0aXZlOiBmYWxzZSAvLyBmYWxzZSDplK7nm5jmiZPlrZcgdHJ1ZSDor63pn7PovpPlhaUKICAgICAgICB9CiAgICB9LAogICAgYmVmb3JlUm91dGVFbnRlcih0bywgZnJvbSwgbmV4dCkgewogICAgICAgIG5leHQodm0gPT4gewogICAgICAgICAgICB2bS4kc3RvcmUuY29tbWl0KCJzZXRQYWdlTmFtZSIsIHZtLiRyb3V0ZS5xdWVyeS5uYW1lKQogICAgICAgIH0pCiAgICB9LAogICAgY29tcHV0ZWQ6IHsKICAgICAgICBtc2dJbmZvKCkgewogICAgICAgICAgICBmb3IgKHZhciBpIGluIHRoaXMuJHN0b3JlLnN0YXRlLm1zZ0xpc3QuYmFzZU1zZykgewogICAgICAgICAgICAgICAgaWYgKHRoaXMuJHN0b3JlLnN0YXRlLm1zZ0xpc3QuYmFzZU1zZ1tpXS5taWQgPT0gdGhpcy4kcm91dGUucXVlcnkubWlkKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLm1zZ0xpc3QuYmFzZU1zZ1tpXQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIHJldHVybiB7fQogICAgICAgIH0KICAgIH0sCiAgICBkaXJlY3RpdmVzOiB7CiAgICAgICAgcHJlc3M6IHsKICAgICAgICAgICAgaW5zZXJ0ZWQoZWxlbWVudCkgewogICAgICAgICAgICAgICAgdmFyIHJlY29yZGluZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yZWNvcmRpbmcnKSwKICAgICAgICAgICAgICAgICAgICByZWNvcmRpbmdWb2ljZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yZWNvcmRpbmctdm9pY2UnKSwKICAgICAgICAgICAgICAgICAgICByZWNvcmRpbmdDYW5jZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucmVjb3JkaW5nLWNhbmNlbCcpLAogICAgICAgICAgICAgICAgICAgIC8vIHN0YXJ0VHgsCiAgICAgICAgICAgICAgICAgICAgc3RhcnRUeQoKICAgICAgICAgICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgICAgLy8g55SoYmluZOaXtu+8jHZ1Zei/mOayoeaPkuWFpeWIsGRvbSzmlYVkb23ojrflj5bkuLogdW5kZWZpbmXvvIznlKggaW5zZXJ0ZWQg5Luj5pu/IGJpbmQs5Lmf5Y+v5Lul5byA5LiqMOenkueahOWumuaXtuWZqAogICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuY2xhc3NOYW1lID0gImNoYXQtc2F5IHNheS1hY3RpdmUiCiAgICAgICAgICAgICAgICAgICAgcmVjb3JkaW5nLnN0eWxlLmRpc3BsYXkgPSByZWNvcmRpbmdWb2ljZS5zdHlsZS5kaXNwbGF5ID0gImJsb2NrIgogICAgICAgICAgICAgICAgICAgIHZhciB0b3VjaGVzID0gZS50b3VjaGVzWzBdCiAgICAgICAgICAgICAgICAgICAgLy8gc3RhcnRUeCA9IHRvdWNoZXMuY2xpZW50WAogICAgICAgICAgICAgICAgICAgIHN0YXJ0VHkgPSB0b3VjaGVzLmNsaWVudFkKICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCkKICAgICAgICAgICAgICAgIH0sIGZhbHNlKQogICAgICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgICAgLyp2YXIgdG91Y2hlcyA9IGUuY2hhbmdlZFRvdWNoZXNbMF07CiAgICAgICAgICAgICAgICAgICAgdmFyIGRpc3RhbmNlWSA9IHN0YXJ0VHkgLSB0b3VjaGVzLmNsaWVudFk7CiAgICAgICAgICAgICAgICAgICAgaWYgKGRpc3RhbmNlWSA+IDUwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCLlj5bmtojlj5HpgIHkv6Hmga8iKTsKICAgICAgICAgICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIuWPkemAgeS/oeaBryIpOwogICAgICAgICAgICAgICAgICAgIH0qLwoKICAgICAgICAgICAgICAgICAgICBlbGVtZW50LmNsYXNzTmFtZSA9ICJjaGF0LXNheSIKICAgICAgICAgICAgICAgICAgICByZWNvcmRpbmdDYW5jZWwuc3R5bGUuZGlzcGxheSA9IHJlY29yZGluZy5zdHlsZS5kaXNwbGF5ID0gcmVjb3JkaW5nVm9pY2Uuc3R5bGUuZGlzcGxheSA9ICJub25lIgogICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKQogICAgICAgICAgICAgICAgfSwgZmFsc2UpCiAgICAgICAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIHRvdWNoZXMgPSBlLmNoYW5nZWRUb3VjaGVzWzBdLAogICAgICAgICAgICAgICAgICAgICAgICAvLyBlbmRUeCA9IHRvdWNoZXMuY2xpZW50WCwKICAgICAgICAgICAgICAgICAgICAgICAgZW5kVHkgPSB0b3VjaGVzLmNsaWVudFksCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRpc3RhbmNlWCA9IHN0YXJ0VHggLSBlbmRUeCwKICAgICAgICAgICAgICAgICAgICAgICAgZGlzdGFuY2VZID0gc3RhcnRUeSAtIGVuZFR5OwoKICAgICAgICAgICAgICAgICAgICBpZiAoZGlzdGFuY2VZID4gNTApIHsKICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgPSAiY2hhdC1zYXkiCiAgICAgICAgICAgICAgICAgICAgICAgIHJlY29yZGluZ1ZvaWNlLnN0eWxlLmRpc3BsYXkgPSAibm9uZSIKICAgICAgICAgICAgICAgICAgICAgICAgcmVjb3JkaW5nQ2FuY2VsLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siCiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgPSAiY2hhdC1zYXkgc2F5LWFjdGl2ZSIKICAgICAgICAgICAgICAgICAgICAgICAgcmVjb3JkaW5nVm9pY2Uuc3R5bGUuZGlzcGxheSA9ICJibG9jayIKICAgICAgICAgICAgICAgICAgICAgICAgcmVjb3JkaW5nQ2FuY2VsLnN0eWxlLmRpc3BsYXkgPSAibm9uZSIKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgLy8g6Zi75pat5LqL5Lu25YaS5rOhIOmYsuatoumhtemdouiiq+S4gOWQjOWQkeS4iua7keWKqAogICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKQogICAgICAgICAgICAgICAgfSwgZmFsc2UpOwogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICBtb3JlOiB7CiAgICAgICAgICAgIGJpbmQoZWxlbWVudCkgewogICAgICAgICAgICAgICAgdmFyIHN0YXJ0VHgsIHN0YXJ0VHkKICAgICAgICAgICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIG1zZ01vcmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbXNnLW1vcmUnKSwKICAgICAgICAgICAgICAgICAgICAgICAgdG91Y2hlcyA9IGUudG91Y2hlc1swXTsKICAgICAgICAgICAgICAgICAgICBzdGFydFR4ID0gdG91Y2hlcy5jbGllbnRYCiAgICAgICAgICAgICAgICAgICAgc3RhcnRUeSA9IHRvdWNoZXMuY2xpZW50WQoKICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lcikKICAgICAgICAgICAgICAgICAgICB0aGlzLnRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgIC8vIOaOp+WItuiPnOWNleeahOS9jee9rgogICAgICAgICAgICAgICAgICAgICAgICBtc2dNb3JlLnN0eWxlLmxlZnQgPSAoKHN0YXJ0VHggLSAxOCkgPiAxODAgPyAxODAgOiAoc3RhcnRUeCAtIDE4KSkgKyAncHgnCiAgICAgICAgICAgICAgICAgICAgICAgIG1zZ01vcmUuc3R5bGUudG9wID0gKGVsZW1lbnQub2Zmc2V0VG9wIC0gMzMpICsgJ3B4JwogICAgICAgICAgICAgICAgICAgICAgICBtc2dNb3JlLnN0eWxlLmRpc3BsYXkgPSAiYmxvY2siCiAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyNlNWU1ZTUnCiAgICAgICAgICAgICAgICAgICAgfSwgNTAwKQoKICAgICAgICAgICAgICAgIH0sIGZhbHNlKQogICAgICAgICAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICAgICAgICAgIHZhciB0b3VjaGVzID0gZS5jaGFuZ2VkVG91Y2hlc1swXSwKICAgICAgICAgICAgICAgICAgICAgICAgZGlzWSA9IHRvdWNoZXMuY2xpZW50WTsKICAgICAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMoZGlzWSAtIHN0YXJ0VHkpID4gMTApIHsKICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXIpCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSwgZmFsc2UpCiAgICAgICAgICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVyKQogICAgICAgICAgICAgICAgfSwgZmFsc2UpCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIC8vIOino+WGs+i+k+WFpeazleiiq+a/gOa0u+aXtiDlupXpg6jovpPlhaXmoYbooqvpga7kvY/pl67popgKICAgICAgICBmb2N1c0lwdCgpIHsKICAgICAgICAgICAgdGhpcy50aW1lciA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuc2Nyb2xsVG9wID0gZG9jdW1lbnQuYm9keS5zY3JvbGxIZWlnaHQKICAgICAgICAgICAgfSwgMTAwKQogICAgICAgIH0sCiAgICAgICAgYmx1cklwdCgpIHsKICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnRpbWVyKQogICAgICAgIH0sCiAgICAgICAgLy8g54K55Ye756m655m95Yy65Z+f77yM6I+c5Y2V6KKr6ZqQ6JePCiAgICAgICAgTWVudU91dHNpZGVDbGljayhlKSB7CiAgICAgICAgICAgIHZhciBjb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudGV4dCcpLAogICAgICAgICAgICAgICAgbXNnTW9yZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtc2ctbW9yZScpCiAgICAgICAgICAgIGlmIChlLnRhcmdldC5jbGFzc05hbWUgIT09ICd0ZXh0JykgewogICAgICAgICAgICAgICAgbXNnTW9yZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnCiAgICAgICAgICAgICAgICBjb250YWluZXIuZm9yRWFjaChpdGVtID0+IGl0ZW0uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJyNmZmYnKQogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9Cg=="},{"version":3,"sources":["dialogue.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"dialogue.vue","sourceRoot":"src/components/wechat","sourcesContent":["<template>\n    <div class=\"dialogue\">\n        <header id=\"wx-header\">\n            <div class=\"other\">\n                <router-link :to=\"{path:'/wechat/dialogue/dialogue-info',query: { msgInfo: msgInfo}}\" tag=\"span\"\n                    class=\"iconfont icon-chat-group\" v-show=\"$route.query.group_num&&$route.query.group_num!=1\">\n                </router-link>\n                <router-link :to=\"{path:'/wechat/dialogue/dialogue-detail',query: { msgInfo: msgInfo}}\" tag=\"span\"\n                    class=\"iconfont icon-chat-friends\" v-show=\"$route.query.group_num==1\"></router-link>\n            </div>\n            <div class=\"center\">\n                <router-link to=\"/\" tag=\"div\" class=\"iconfont icon-return-arrow\">\n                    <span>微信</span>\n                </router-link>\n                <span>{{pageName}}</span>\n                <span class=\"parentheses\"\n                    v-show='$route.query.group_num&&$route.query.group_num!=1'>{{$route.query.group_num}}</span>\n            </div>\n        </header>\n        <section class=\"dialogue-section clearfix\" v-on:click=\"MenuOutsideClick\">\n            <div class=\"row clearfix\" v-for=\"(item,index) in msgInfo.msg\" :key=\"index\">\n                <img :src=\"item.headerUrl\" class=\"header\">\n                <p class=\"text\" v-more>{{item.text}}</p>\n            </div>\n            <span class=\"msg-more\" id=\"msg-more\">\n                <ul>\n                    <li>复制</li>\n                    <li>转发</li>\n                    <li>收藏</li>\n                    <li>删除</li>\n                </ul>\n            </span>\n        </section>\n        <footer class=\"dialogue-footer\">\n            <div class=\"component-dialogue-bar-person\">\n                <span class=\"iconfont icon-dialogue-jianpan\" v-show=\"!currentChatWay\"\n                    v-on:click=\"currentChatWay=true\"></span>\n                <span class=\"iconfont icon-dialogue-voice\" v-show=\"currentChatWay\"\n                    v-on:click=\"currentChatWay=false\"></span>\n                <div class=\"chat-way\" v-show=\"!currentChatWay\">\n                    <div class=\"chat-say\" v-press>\n                        <span class=\"one\">按住 说话</span>\n                        <span class=\"two\">松开 结束</span>\n                    </div>\n                </div>\n                <div class=\"chat-way\" v-show=\"currentChatWay\">\n                    <input class=\"chat-txt\" type=\"text\" v-on:focus=\"focusIpt\" v-on:blur=\"blurIpt\" />\n                </div>\n                <span class=\"expression iconfont icon-dialogue-smile\"></span>\n                <span class=\"more iconfont icon-dialogue-jia\"></span>\n                <div class=\"recording\" style=\"display: none;\" id=\"recording\">\n                    <div class=\"recording-voice\" style=\"display: none;\" id=\"recording-voice\">\n                        <div class=\"voice-inner\">\n                            <div class=\"voice-icon\"></div>\n                            <div class=\"voice-volume\">\n                                <span></span>\n                                <span></span>\n                                <span></span>\n                                <span></span>\n                                <span></span>\n                                <span></span>\n                                <span></span>\n                                <span></span>\n                                <span></span>\n                            </div>\n                        </div>\n                        <p>手指上划,取消发送</p>\n                    </div>\n                    <div class=\"recording-cancel\" style=\"display: none;\">\n                        <div class=\"cancel-inner\"></div>\n                        <p>松开手指,取消发送</p>\n                    </div>\n                </div>\n            </div>\n        </footer>\n    </div>\n</template>\n<script>\n    export default {\n        data() {\n            return {\n                pageName: this.$route.query.name,\n                currentChatWay: true, //ture为键盘打字 false为语音输入\n                timer: null\n                // sayActive: false // false 键盘打字 true 语音输入\n            }\n        },\n        beforeRouteEnter(to, from, next) {\n            next(vm => {\n                vm.$store.commit(\"setPageName\", vm.$route.query.name)\n            })\n        },\n        computed: {\n            msgInfo() {\n                for (var i in this.$store.state.msgList.baseMsg) {\n                    if (this.$store.state.msgList.baseMsg[i].mid == this.$route.query.mid) {\n                        return this.$store.state.msgList.baseMsg[i]\n                    }\n                }\n                return {}\n            }\n        },\n        directives: {\n            press: {\n                inserted(element) {\n                    var recording = document.querySelector('.recording'),\n                        recordingVoice = document.querySelector('.recording-voice'),\n                        recordingCancel = document.querySelector('.recording-cancel'),\n                        // startTx,\n                        startTy\n\n                    element.addEventListener('touchstart', function (e) {\n                        // 用bind时，vue还没插入到dom,故dom获取为 undefine，用 inserted 代替 bind,也可以开个0秒的定时器\n                        element.className = \"chat-say say-active\"\n                        recording.style.display = recordingVoice.style.display = \"block\"\n                        var touches = e.touches[0]\n                        // startTx = touches.clientX\n                        startTy = touches.clientY\n                        e.preventDefault()\n                    }, false)\n                    element.addEventListener('touchend', function (e) {\n                        /*var touches = e.changedTouches[0];\n                        var distanceY = startTy - touches.clientY;\n                        if (distanceY > 50) {\n                            console.log(\"取消发送信息\");\n                        }else{\n                            console.log(\"发送信息\");\n                        }*/\n\n                        element.className = \"chat-say\"\n                        recordingCancel.style.display = recording.style.display = recordingVoice.style.display = \"none\"\n                        e.preventDefault()\n                    }, false)\n                    element.addEventListener('touchmove', function (e) {\n                        var touches = e.changedTouches[0],\n                            // endTx = touches.clientX,\n                            endTy = touches.clientY,\n                            // distanceX = startTx - endTx,\n                            distanceY = startTy - endTy;\n\n                        if (distanceY > 50) {\n                            element.className = \"chat-say\"\n                            recordingVoice.style.display = \"none\"\n                            recordingCancel.style.display = \"block\"\n                        } else {\n                            element.className = \"chat-say say-active\"\n                            recordingVoice.style.display = \"block\"\n                            recordingCancel.style.display = \"none\"\n                        }\n                        // 阻断事件冒泡 防止页面被一同向上滑动\n                        e.preventDefault()\n                    }, false);\n                }\n            },\n            more: {\n                bind(element) {\n                    var startTx, startTy\n                    element.addEventListener('touchstart', function (e) {\n                        var msgMore = document.getElementById('msg-more'),\n                            touches = e.touches[0];\n                        startTx = touches.clientX\n                        startTy = touches.clientY\n\n                        clearTimeout(this.timer)\n                        this.timer = setTimeout(() => {\n                            // 控制菜单的位置\n                            msgMore.style.left = ((startTx - 18) > 180 ? 180 : (startTx - 18)) + 'px'\n                            msgMore.style.top = (element.offsetTop - 33) + 'px'\n                            msgMore.style.display = \"block\"\n                            element.style.backgroundColor = '#e5e5e5'\n                        }, 500)\n\n                    }, false)\n                    element.addEventListener('touchmove', function (e) {\n                        var touches = e.changedTouches[0],\n                            disY = touches.clientY;\n                        if (Math.abs(disY - startTy) > 10) {\n                            clearTimeout(this.timer)\n                        }\n                    }, false)\n                    element.addEventListener('touchend', function () {\n                        clearTimeout(this.timer)\n                    }, false)\n                }\n            }\n        },\n        methods: {\n            // 解决输入法被激活时 底部输入框被遮住问题\n            focusIpt() {\n                this.timer = setInterval(function () {\n                    document.body.scrollTop = document.body.scrollHeight\n                }, 100)\n            },\n            blurIpt() {\n                clearInterval(this.timer)\n            },\n            // 点击空白区域，菜单被隐藏\n            MenuOutsideClick(e) {\n                var container = document.querySelectorAll('.text'),\n                    msgMore = document.getElementById('msg-more')\n                if (e.target.className !== 'text') {\n                    msgMore.style.display = 'none'\n                    container.forEach(item => item.style.backgroundColor = '#fff')\n                }\n            }\n        }\n    }\n</script>\n<style lang=\"less\">\n    @import \"../../assets/less/dialogue.less\";\n\n    .say-active {\n        background: #c6c7ca;\n    }\n</style>"]}]}